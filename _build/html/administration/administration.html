

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Administration &mdash; jwtest 1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/my_theme.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="jwtest 1 documentation" href="../index.html"/>
        <link rel="next" title="Monitoring" href="../monitoring/monitoring.html"/>
        <link rel="prev" title="Infrastructure" href="../infrastructure/infrastructure.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/logo.svg" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting_started/getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../provisioning/provisioning.html">Provisioning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../infrastructure/infrastructure.html">Infrastructure</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Administration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#tenants">Tenants</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#create-tenants">Create Tenants</a></li>
<li class="toctree-l3"><a class="reference internal" href="#edit-tenant">Edit Tenant</a></li>
<li class="toctree-l3"><a class="reference internal" href="#delete-tenant">Delete Tenant</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tenant-view">Tenant View</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#view-tenant">View Tenant</a></li>
<li class="toctree-l4"><a class="reference internal" href="#create-tenant-user">Create Tenant User</a></li>
<li class="toctree-l4"><a class="reference internal" href="#edit-a-tenant-user">Edit a Tenant User</a></li>
<li class="toctree-l4"><a class="reference internal" href="#delete-tenant-user">Delete Tenant User</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#identity-sources">Identity Sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="#plans-pricing">Plans &amp; Pricing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#create-service-plan">Create Service Plan</a></li>
<li class="toctree-l3"><a class="reference internal" href="#edit-service-plan">Edit Service Plan</a></li>
<li class="toctree-l3"><a class="reference internal" href="#delete-service-plan">Delete Service Plan</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#roles">Roles</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#role-management-overview">Role Management Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#role-types">Role Types</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#tenant-roles">Tenant Roles</a></li>
<li class="toctree-l4"><a class="reference internal" href="#user-roles">User Roles</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#roles-and-identity-sources">Roles and Identity Sources</a></li>
<li class="toctree-l3"><a class="reference internal" href="#resource-limits">Resource Limits</a></li>
<li class="toctree-l3"><a class="reference internal" href="#users">Users</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#integrations">Integrations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#ansible">Ansible</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id2">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#add-ansible-integration">Add Ansible Integration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#scope-ansible-integration-to-a-cloud">Scope Ansible Integration to a Cloud</a></li>
<li class="toctree-l4"><a class="reference internal" href="#scope-ansible-integration-to-a-group">Scope Ansible Integration to a Group</a></li>
<li class="toctree-l4"><a class="reference internal" href="#provisioning-options">Provisioning Options</a></li>
<li class="toctree-l4"><a class="reference internal" href="#running-playbooks">Running Playbooks</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#chef">Chef</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id3">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#add-chef-integration">Add Chef Integration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#scope-chef-integration-to-a-cloud">Scope Chef Integration to a Cloud</a></li>
<li class="toctree-l4"><a class="reference internal" href="#scope-chef-integration-to-a-group">Scope Chef Integration to a Group</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id4">Provisioning Options</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#consul">Consul</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#add-consul-integration">Add Consul Integration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#scope-consul-integration-to-a-cloud">Scope Consul Integration to a Cloud</a></li>
<li class="toctree-l4"><a class="reference internal" href="#scope-consul-integration-to-a-group">Scope Consul Integration to a Group</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#docker-registry">Docker Registry</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id5">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#adding-a-docker-registry-integration">Adding a Docker Registry Integration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#provisioning-an-instance-from-docker-registry">Provisioning an Instance from Docker Registry</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#infoblox">Infoblox</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#add-infoblox-as-a-network-service-integration">Add Infoblox as a Network Service Integration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#configure-your-cloud-s-domain">Configure your cloud(s) domain</a></li>
<li class="toctree-l4"><a class="reference internal" href="#provisioning-with-infoblox-pool">Provisioning with Infoblox Pool</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#jenkins">Jenkins</a></li>
<li class="toctree-l3"><a class="reference internal" href="#aws-route53">AWS Route53</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id6">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#add-route-53-integration">Add Route 53 Integration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#domains">Domains</a></li>
<li class="toctree-l4"><a class="reference internal" href="#configuring-route-53-with-clouds-and-groups">Configuring Route 53 with Clouds and Groups</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#salt">Salt</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id7">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#add-salt-integration">Add Salt Integration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#scope-salt-integration-to-group-or-cloud">Scope Salt Integration to Group Or Cloud</a></li>
<li class="toctree-l4"><a class="reference internal" href="#provisioning-with-saltstack">Provisioning with Saltstack</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#provisioning-settings">Provisioning Settings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#settings">Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cloud-init-settings">Cloud-Init Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pxe-boot-settings">PXE Boot Settings</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#monitoring-settings">Monitoring Settings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id8">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#morpheus-monitoring-settings">|morpheus| Monitoring Settings</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#backup-settings">Backup Settings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id9">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#morpheus-backup-settings">|morpheus| Backup Settings</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#logging-settings">Logging Settings</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../monitoring/monitoring.html">Monitoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../logs/logging.html">Logs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../backups/backups.html">Backups</a></li>
<li class="toctree-l1"><a class="reference internal" href="../operations/operations.html">Operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../services/services.html">Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../integration_guides/integration_guides.html">Integration Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/faqs.html">FAQ’s</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release_notes/release_notes.html">Release Notes</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">jwtest</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Administration</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/administration/administration.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <p>[[administration]]</p>
<div class="section" id="administration">
<h1>Administration<a class="headerlink" href="#administration" title="Permalink to this headline">¶</a></h1>
<p>There are several administrative integrations built into |morpheus| that
make it great to work with within any organization ranging from small to
large. Especially, with its built in white label support and
multitenancy capabilities, managed service providers have a wide range
of capabilities when it comes to managing customer accounts and users.</p>
<p>[[tenants]]</p>
<div class="section" id="tenants">
<h2>Tenants<a class="headerlink" href="#tenants" title="Permalink to this headline">¶</a></h2>
<div class="section" id="overview">
<h3>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h3>
<p>The Tenants page displays a list of all Tenants. This page enables users to Create, Edit, and Delete Tenants. The list of Tenants displays the Tenant Name, Role, Total Instances, Total Users, and the Created Date.</p>
<p>Click the Tenant Name to drill into the Tenant View where you can again Edit, Delete, as well as Create Users, Edit Users, and Delete Users users belonging to the Tenant.</p>
</div>
<div class="section" id="create-tenants">
<h3>Create Tenants<a class="headerlink" href="#create-tenants" title="Permalink to this headline">¶</a></h3>
<p>To create Tenants</p>
<ol class="arabic simple">
<li>Select the Administration link in the navigation bar.</li>
<li>Select the Tenants link in the sub navigation bar.</li>
<li>Click the Create Tenant button.</li>
<li>From the New Tenant wizard input:<ul>
<li>Name</li>
<li>Description (optional)</li>
<li>Base Role
Primary role of the Tenant. All User roles within the Tenant cannot exeed the permission of this Role.</li>
<li>Limits
Restricts the amount of Storage and Memory allocated to the Tenant</li>
</ul>
</li>
<li>Click the Save Changes button.</li>
</ol>
</div>
<div class="section" id="edit-tenant">
<h3>Edit Tenant<a class="headerlink" href="#edit-tenant" title="Permalink to this headline">¶</a></h3>
<p>To edit a Tenant:</p>
<ol class="arabic simple">
<li>Select the Administration link in the navigation bar.</li>
<li>Select the Tenants link in the sub navigation bar.</li>
<li>Click the Edit pencil icon on the row of the Tenant to edit.</li>
<li>Edit the Edit Tenant settings.</li>
</ol>
</div>
<div class="section" id="delete-tenant">
<h3>Delete Tenant<a class="headerlink" href="#delete-tenant" title="Permalink to this headline">¶</a></h3>
<p>To delete a Tenant:</p>
<ol class="arabic simple">
<li>Select the Administration link in the navigation bar.</li>
<li>Select the Tenants link in the sub navigation bar.</li>
<li>Click the Delete trashcan icon on the row of the Tenant to delete.</li>
<li>Confirm</li>
</ol>
</div>
<div class="section" id="tenant-view">
<h3>Tenant View<a class="headerlink" href="#tenant-view" title="Permalink to this headline">¶</a></h3>
<p>The Tenant View displays a list of users belonging to the Tenant and their
Name, Username, Email, and Role.</p>
<p>From this page: Create, Edit, and Delete users within the Tenant.</p>
<div class="section" id="view-tenant">
<h4>View Tenant<a class="headerlink" href="#view-tenant" title="Permalink to this headline">¶</a></h4>
<ol class="arabic simple">
<li>Select the Administration link in the navigation bar.</li>
<li>Select the Tenants link in the sub navigation bar.</li>
<li>Click the Tenant Name on the row of the Tenant to view.</li>
</ol>
</div>
<div class="section" id="create-tenant-user">
<h4>Create Tenant User<a class="headerlink" href="#create-tenant-user" title="Permalink to this headline">¶</a></h4>
<p>To create a Tenant User:</p>
<ol class="arabic simple">
<li>Select the Administration link in the navigation bar.</li>
<li>Select the Tenants link in the sub navigation bar.</li>
</ol>
<p>#. Click the Tenant Name on the row of the Tenant where the user will be
added.
#. Click the Create User button.
#. From the New User wizard input the fields below</p>
<blockquote>
<div><ul class="simple">
<li>First Name of the user being created</li>
<li>Last Name of the user being created</li>
<li>Username used to login</li>
<li>Email address of the new user</li>
<li>Role to be inherited by the user</li>
<li>Password</li>
<li>Limits<ul>
<li>Restricts the amount of Storage and Memory the user can provision.</li>
</ul>
</li>
<li>Save Changes.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="edit-a-tenant-user">
<h4>Edit a Tenant User<a class="headerlink" href="#edit-a-tenant-user" title="Permalink to this headline">¶</a></h4>
<p>To edit a User:</p>
<ol class="arabic simple">
<li>Select the Administration link in the navigation bar.</li>
<li>Select the Tenants link in the sub navigation bar.</li>
</ol>
<p>#. Click the Tenant Name on the row of the Tenant containing the user to
be edited.
. Click the Edit pencil icon of the row of the to edit.
#. Edit User informaiton</p>
<blockquote>
<div><div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Name, Username, Passwords and e-mail addresses cannot be edited on Users created from Identity Source Integrations.</p>
</div>
</div></blockquote>
<ol class="arabic simple">
<li>Save Changes.</li>
</ol>
</div>
<div class="section" id="delete-tenant-user">
<h4>Delete Tenant User<a class="headerlink" href="#delete-tenant-user" title="Permalink to this headline">¶</a></h4>
<p>To delete a Tenant User</p>
<ol class="arabic simple">
<li>Select the Administration link in the navigation bar.</li>
<li>Select the Tenants link in the sub navigation bar.</li>
<li>Click the Tenant Name on the row of the Tenant containing the user.</li>
<li>Click the Delete trashcan icon of the row of the user to delete.</li>
<li>Confirm</li>
</ol>
</div>
</div>
</div>
<div class="section" id="identity-sources">
<h2>Identity Sources<a class="headerlink" href="#identity-sources" title="Permalink to this headline">¶</a></h2>
<p>There are several built in single sign-on integrations included with
|morpheus| . These can be configured via the <code class="docutils literal"><span class="pre">Identity</span> <span class="pre">Sources</span></code> button
in <code class="docutils literal"><span class="pre">Admin</span> <span class="pre">-&gt;</span> <span class="pre">Accounts</span></code>. These integrations include linking
capabilities with LDAP, Active Directory, Okta, and Jump Cloud. One can
even map these sign on tools to equivalent roles in |morpheus| so at
first log in users are assigned the appropriate role.</p>
<p>image::administration/identity_sources.png[caption=”Figure 1: “,
title=”Identity Source Management Integrations”, alt=”Identity Source
Management Integrations”]</p>
<p>==== Active Directory</p>
<p>Active Directory is Microsoft’s primary authentication service widely
used in Enterprise organizations and even via Microsoft’s cloud
services. While Active Directory also supports LDAP protocol support
(which |morpheus| can integrate with as well), the main active directory
integration can also be utilized. It is even possible to map Active
Directory groups to equivalent Roles within |morpheus| .</p>
<p>NOTE: To use Active Directory, a valid / trusted SSL certificate must be
in place on the Active Directory services (self signed will not work).</p>
<p>Adding an Active Directory integration is fairly straightforward. Simply
click the ‘Add Integration’ button in Identity Sources and from the type
dropdown choose “Active Directory”.</p>
<p>image::administration/add_active_directory.png[caption=”Figure 2: “,
title=”Modal form entry for Active Directory”, alt=”Modal form entry for
Active Directory”]</p>
<p>The following fields are important for integrating active directory:</p>
<ul class="simple">
<li><em>Name:</em> Unique name for authentication type.</li>
<li><em>AD Server:</em> Hostname or IP address of AD Server.</li>
<li><em>Domain:</em> Domain name of AD Domain.</li>
<li><em>Binding Username:</em> Service account username for bind user.</li>
<li><em>Binding Password:</em> Password for bind service account.</li>
<li><em>Default Role:</em> The default role a user is assigned if no group is
listed under AD user that maps under Role Mappings section.</li>
<li><em>Service Account Holder:</em> This is the admin account type in
|morpheus| and an AD group can be created and populated to a user
that this role should be assigned. Roles are assigned dynamically
based on group membership.</li>
</ul>
<p>TIP: Make sure to check the sync login box which will allow |morpheus| 
to sync the AD account on the |morpheus| Appliance.</p>
<p>Now users can login to the UI via their active directory username.</p>
<p>NOTE: Only the username is required with password not the
<a class="reference external" href="mailto:username&#37;&#52;&#48;domain">username<span>&#64;</span>domain</a>.</p>
</div>
<div class="section" id="plans-pricing">
<h2>Plans &amp; Pricing<a class="headerlink" href="#plans-pricing" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1">
<h3>Overview<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>The Plans &amp; Pricing page displays a list of all of your available
service plans. From the service plans page you will be able to Create,
Edit, and Delete service plans, as well as review basic plan details.
The list of plans displayed on this page displays planName, Description,
Instances Layout, Memory, Storage, and Cost, as well as an action column
to edit and delete. A default set of Service Plans are created in
|morpheus| . They provide a means to set predefined tiers on memory,
storage, cores, and cpu. Price tables can also be applied to these so
estimated cost per virtual machine can be tracked as well as pricing for
customers.</p>
</div>
<div class="section" id="create-service-plan">
<h3>Create Service Plan<a class="headerlink" href="#create-service-plan" title="Permalink to this headline">¶</a></h3>
<p>To create service plan</p>
<ol class="arabic simple">
<li>Select the Administration link in the navigation bar.</li>
<li>Select the Plans &amp; Pricing link in the sub navigation bar.</li>
<li>Click the Create Service Plan button.</li>
<li>From the New Service Plan wizard, input:<ul>
<li>Name</li>
<li>Code used as a unique identifier in the API and CLI. **</li>
<li>Storage size in megabytes.</li>
<li>Memory size in megabytes.</li>
<li>Cost is internal cost of plan.</li>
<li>Price is what the service offering will be priced at.</li>
<li>Instance Types that will be associated with this plan.</li>
<li>Click the Save Changes button to save.</li>
</ul>
</li>
</ol>
</div>
<div class="section" id="edit-service-plan">
<h3>Edit Service Plan<a class="headerlink" href="#edit-service-plan" title="Permalink to this headline">¶</a></h3>
<p>By default, these options are fixed sizes but can be configured for
dynamic sizing. A service plan can be configured to allow a custom user
entry for memory, storage, or cpu. To configure this, simply edit an
existing Service Plan. These all can be easily managed from the
<code class="docutils literal"><span class="pre">Admin</span> <span class="pre">-&gt;</span> <span class="pre">Service</span> <span class="pre">Plans</span></code> section.</p>
<p>To edit service plan:</p>
<ol class="arabic simple">
<li>Select the Administration link in the navigation bar.</li>
<li>Select the Plans &amp; Pricing link in the sub navigation bar.</li>
<li>Click the Edit pencil icon on the row of the plan to edit.</li>
<li>Edit the following Edit Service Plan.</li>
<li>Click the Save Changes button to save.</li>
</ol>
</div>
<div class="section" id="delete-service-plan">
<h3>Delete Service Plan<a class="headerlink" href="#delete-service-plan" title="Permalink to this headline">¶</a></h3>
<p>To delete service plan</p>
<ol class="arabic simple">
<li>Select the Administration link in the navigation bar.</li>
<li>Select the Plans &amp; Pricing link in the sub navigation bar.</li>
<li>Click the Delete trashcan icon on the row of the#  plan to delete.</li>
<li>Confirm</li>
</ol>
</div>
</div>
<div class="section" id="roles">
<h2>Roles<a class="headerlink" href="#roles" title="Permalink to this headline">¶</a></h2>
<div class="section" id="role-management-overview">
<h3>Role Management Overview<a class="headerlink" href="#role-management-overview" title="Permalink to this headline">¶</a></h3>
<p>Within |morpheus| is a wide array of role based access control capabilities. These roles can be managed within the Admin -&gt; Roles section of the morpheus UI as well as through the API or CLI. They are designed to be robust enough to fit within a wide array of enterprise and managed service provider scenarios so they can be a bit hard to grasp at first, but should make sense once a few simple concepts are explained. There are two types of roles within |morpheus| called Tenant and User based roles. Both sets of roles allow restrictions to be imposed on a user at the feature access level. Entire sections within the appliance UI can be hidden based on the specified access levels for features within morpheus. Features have different access scopes that can be selected from and can range depending on the specific feature. The most common scope set involves none, read, and full. Instance Type access is also common among both role types which allow the administrator to restrict which service catalog items they are allowed to provision within |morpheus| .</p>
<p>There are several handy tricks for creating new roles within morpheus and users can be assigned more than one role. When a user is assigned more than one role, permissions are granted by the role with the highest level of scope access. This allows roles to be built with small subsets of features and combined to grant different individuals relevant permission control.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Feature access control not only applies to the |morpheus| UI but also applies to the public developer API. It is sometimes necessary to logout and back in for changes to a users feature access level to be respected.</p>
</div>
</div>
<div class="section" id="role-types">
<h3>Role Types<a class="headerlink" href="#role-types" title="Permalink to this headline">¶</a></h3>
<div class="section" id="tenant-roles">
<h4>Tenant Roles<a class="headerlink" href="#tenant-roles" title="Permalink to this headline">¶</a></h4>
<p>A Tenant based role (formerly called an Account based role) is used to ensure access control enforcement across an entire tenant with many sub-users. This allows the subtenant to manage their own set of internal user based roles without worrying master tenant involvement in setting them up. The master tenant is the only tenant able to create and manage these types of roles. When editing a Tenant, a singular tenant role can be assigned to the account. Users within the tenant can be assigned roles but those user based roles will never be able to supersede the level of access granted by the tenant role. This allows a super administrator the ability to restrict access at the department or organization level without having to worry about per user access control within said tenant.</p>
<p>Tenant roles also have an additional section not in User based roles related to Cloud Access. Cloud Access allows the master tenant the ability to assign cloud integration resources to specific subtenants or groups of subtenants. An example would be granting access to a specific VMware cluster only to a subset of tenants using the tenant based role control.</p>
</div>
<div class="section" id="user-roles">
<h4>User Roles<a class="headerlink" href="#user-roles" title="Permalink to this headline">¶</a></h4>
<p>User roles can be created by any tenant given permission at the tenant role level. These allow tenants to manage their own sets of users and their levels of access. They also allow tenants to control which users have access to specific “Groups” for provisioning into within morpheus. Groups are not cross tenant and therefore need to be controlled within the individual tenant in |morpheus| .</p>
<p>Master tenants are able to create a special type of user role called a multi-tenant user role. A multi-tenant user role is copied / duplicated
down to all subtenants within morpheus. These can be viewed as pre-canned role templates available to new tenants when their account is first created. Any changes made to the main role are propagated down to the subtenants version of the shared role so long as the subtenant has not previously adjusted/changed that role. The moment a subtenant makes adjustments to the shared role within their account, it is unlinked from the parent role and treated entirely independently.</p>
<p>Another note about user roles is that when a user role is copied down to a subtenant, the permission scopes cannot supersede the tenants assigned
tenant role. If they do they are automatically downgraded when propagated to the specific tenant. Any changes made to the tenant role will automatically ensure roles within the tenant are downgraded appropriately.</p>
</div>
</div>
<div class="section" id="roles-and-identity-sources">
<h3>Roles and Identity Sources<a class="headerlink" href="#roles-and-identity-sources" title="Permalink to this headline">¶</a></h3>
<p>It is very common for large enterprises to have an existing identity source that they would like to plugin to morpheus for authentication. This includes services like LDAP, Active Directory, OKTA, Jump Cloud, One Login, and SAML. When using these services it becomes important to configure a role mapping between the morpheus role assignments to the equivalent identity source groups/roles the user belongs to. This is configurable within the identity source management UI. Sections are
provided allowing things like LDAP groups to be directly mapped to specific roles within morpheus. If a user matches more than one LDAP/role group then both sets of roles are applied to the user automatically. Configuring Identity Sources is done in Tenant management found in Admin -&gt; Tenants, and has to be configured on a per tenant basis.</p>
</div>
<div class="section" id="resource-limits">
<h3>Resource Limits<a class="headerlink" href="#resource-limits" title="Permalink to this headline">¶</a></h3>
<p>While it is possible to restrict usages by roles assigned to a tenant or role with max memory utilizations and max storage utilizations, it is preferred to now control this at the Policy level within a group or cloud. |morpheus| provides a large swatch of policy types that can be assigned globally or to specific tenants both globally, and per cloud/group entity.</p>
<p>[[users]]</p>
</div>
<div class="section" id="users">
<h3>Users<a class="headerlink" href="#users" title="Permalink to this headline">¶</a></h3>
<p>=== Overview</p>
<p>The Users page displays a list of all users. From the users page:
Create, Edit, and Delete users. The list of users displayed on this page
displays Account, Name, Username, Email, and Role.</p>
<p>=== Create User</p>
<p>To create user</p>
<p>. Select the Administration link in the navigation bar.</p>
<p>. Select the Users link in the sub navigation bar.</p>
<p>. Click the Create User button.</p>
<p>. From the New User Wizard input</p>
<ul class="simple">
<li>First Name</li>
<li>Last Name</li>
<li>Username used to login.</li>
<li>Email address of the new user.</li>
<li>Role to be inherited by the user.</li>
<li>Password</li>
<li>Storage size set in megabytes. (0.0 is unlimited, this is the amount
of storage a role can provision.)</li>
<li>Memory size set in megabytes. (0.0 is unlimited, this is the amount
of memory a role can provision.)</li>
</ul>
<p>. Click the Save Changes button.</p>
<p>=== Edit User</p>
<p>To edit user</p>
<p>. Select the Administration link in the navigation bar.</p>
<p>. Select the Users link in the sub navigation bar.</p>
<p>. Click the Edit pencil icon on the row of the user to edit.</p>
<p>. From the User Wizard input:</p>
<ul class="simple">
<li>First Name</li>
<li>Last Name</li>
<li>Username used to login.</li>
<li>Email address of the new user.</li>
<li>Role to be inherited by the user.</li>
<li>Password</li>
<li>Storage size set in megabytes. (0.0 is unlimited, this is the amount
of storage a role can provision.)</li>
<li>Memory size set in megabytes. (0.0 is unlimited, this is the amount
of memory a role can provision.)</li>
</ul>
<p>. Click the Save Changes button.</p>
<p>=== Delete User</p>
<p>To delete user</p>
<p>. Select the Administration link in the navigation bar. . Select the
Users link in the sub navigation bar. . Click the Delete trashcan icon
on the row of the user to delete. . Note: You will be prompted for
confirmation on this action.</p>
</div>
</div>
<div class="section" id="integrations">
<h2>Integrations<a class="headerlink" href="#integrations" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal"><span class="pre">Administration</span> <span class="pre">-&gt;</span> <span class="pre">Integrations</span></code></p>
<div class="section" id="ansible">
<h3>Ansible<a class="headerlink" href="#ansible" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id2">
<h4>Overview<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h4>
<p>|morpheus| appliance supports Ansible integration for configuration management.  |morpheus| accomplishes this by integrating with an existing repository of playbooks as the master in a master-slave Ansible architecture.</p>
<p>To get started the only requirement is an existing repository for playbooks in a very simple structure.</p>
</div>
<div class="section" id="add-ansible-integration">
<h4>Add Ansible Integration<a class="headerlink" href="#add-ansible-integration" title="Permalink to this headline">¶</a></h4>
<ol class="arabic simple">
<li>Navigate to <cite>Administration -&gt; Integrations</cite> and select <cite>+ New Integration</cite></li>
<li>Select Integration Type “Ansible”</li>
<li>Populate the following fields:<ul>
<li>Name: Name of the Ansible Integration in |morpheus| </li>
<li>Enabled: Enabled by default Ansible Git URL:: https or git url format of the Ansible Git repo to use</li>
<li>Keypair: For private Git repos, a keypair must be added to |morpheus| and the public key added to the git account.</li>
<li>Playbooks Path: Path of the Playbooks relative to the Git url.</li>
<li>Roles Path: Path of the Roles relative to the Git url.</li>
<li>Group Variable Path: Path of the Group Variables relative to the Git url.</li>
<li>Host Variables Path: Path of the Host Variables relative to the Git url.</li>
</ul>
</li>
<li>Save Changes</li>
</ol>
<p>Once you have completed this section and saved your changes you can set up a Cloud or Group to utilize this integration.</p>
</div>
<div class="section" id="scope-ansible-integration-to-a-cloud">
<h4>Scope Ansible Integration to a Cloud<a class="headerlink" href="#scope-ansible-integration-to-a-cloud" title="Permalink to this headline">¶</a></h4>
<ol class="arabic simple">
<li>Navigate to <cite>Infrastructure -&gt; Clouds</cite></li>
<li>Edit the target Cloud</li>
<li>Expand the <cite>Advanced Options</cite> section</li>
<li>In the <cite>Config Managment</cite> dropdown, select the Ansible Integration.</li>
<li>Save Changes</li>
</ol>
<p>Once an Ansible integration is added to a Cloud, a new “ANSIBLE” tab will appear on the Cloud details page, populated with the Ansible integrations Playbook and Roles, as well as an editable Inventory list.</p>
</div>
<div class="section" id="scope-ansible-integration-to-a-group">
<h4>Scope Ansible Integration to a Group<a class="headerlink" href="#scope-ansible-integration-to-a-group" title="Permalink to this headline">¶</a></h4>
<ol class="arabic simple">
<li>Navigate to <cite>Infrastructure -&gt; Groups</cite></li>
<li>Edit the target Group</li>
<li>Expand the <cite>Advanced Options</cite> section</li>
<li>In the <cite>Config Managment</cite> dropdown, select the Ansible Integration.</li>
<li>Save Changes</li>
</ol>
<p>Once an Ansible integration is added to a Group, a new “ANSIBLE” tab will appear on the Group details page, populated with the Ansible integrations Playbook and Roles, as well as an editable Inventory list.</p>
</div>
<div class="section" id="provisioning-options">
<h4>Provisioning Options<a class="headerlink" href="#provisioning-options" title="Permalink to this headline">¶</a></h4>
<p>When provisioning Instances into a Cloud or Group with a Ansible Integration added, an <cite>Ansible</cite> section will appear in the Config section of the provisioning wizard. By default, Ansible is enabled, but can be disabled by expanding the <cite>Ansible</cite> section and unchecking <cite>Enable Ansible</cite>.</p>
<p>Ansible Integration Provisioning options:</p>
<dl class="docutils">
<dt>Enable Ansible</dt>
<dd>Select to bootstrap</dd>
<dt>Ansible Group</dt>
<dd>Ansible Inventory Group. Use existing group or enter a new group name to create a new group. Leaving this field blank will place instance in the “unassigned” inventory group.</dd>
<dt>Playbook</dt>
<dd>Playbook(s) to run. The .yml extension is optional.</dd>
</dl>
</div>
<div class="section" id="running-playbooks">
<h4>Running Playbooks<a class="headerlink" href="#running-playbooks" title="Permalink to this headline">¶</a></h4>
<p>Playbooks can also be ran on all inventory groups, individual groups, or added as a task and ran with workflows.</p>
<p>To run ansible on all or a single inventory group, in the Ansible tab of the |morpheus| Group page, select the <cite>Actions</cite> dropdown and click <cite>Run</cite>.</p>
<p>In the <cite>Run Ansible</cite> modal, you can then select all or an individual group, and then all or a single Playbook, as well as add custom tags.</p>
<p>Playbook’s can also be added as tasks to workflows in the <cite>Provisioning -&gt; Automation</cite> section, and then selected in the Automation pane during provisioning of new instances, when creating app templates, or ran on existing instances using the <cite>Actions -&gt; Run Workflow</cite> on the Instance or Host pages.</p>
</div>
</div>
<div class="section" id="chef">
<h3>Chef<a class="headerlink" href="#chef" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id3">
<h4>Overview<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h4>
<p>|morpheus| can integrate with one or multiple chef servers to be used for bootstrapping wile provisioning or as tasks in workflows in the Automation section. These workflows can then be ran during provisioning in the provisioning wizard Automation pane, or on an exiting instance by selecting Actions- Run Workflow.  Workflows can also be added to instances in the template and app sections.</p>
</div>
<div class="section" id="add-chef-integration">
<h4>Add Chef Integration<a class="headerlink" href="#add-chef-integration" title="Permalink to this headline">¶</a></h4>
<ol class="arabic simple">
<li>Navigate to <cite>Administration -&gt; Integrations</cite> and select <cite>+ New Integration</cite></li>
<li>Select Integration Type “Chef”</li>
<li>Populate the following fields:<ul>
<li>Name: Name of the Chef Integration in |morpheus| </li>
<li>Chef Endpoint: url of chef server api endpoint in <a class="reference external" href="https://api.example.com">https://api.example.com</a> format. Do not add /organization/xxxx here, which is populated in the Chef Organization field</li>
<li>Chef Version: 12.3.0 by default, can be changed to use a different/more recent version of chef</li>
<li>Chef Organization: Chef Server Organization</li>
<li>Chef User: Chef Server User</li>
<li>User Private Key: The private key of the user with access to this chef server</li>
<li>Organization Validator: Validator key for the organization</li>
</ul>
</li>
<li>Save Changes</li>
</ol>
<p>The added Chef Integration is now available for use in |morpheus| . The Chef Integration can be added to Clouds or Groups to auto-bootstrap nodes and specify Environment, Node ID, Runlist, Attributes and Tags when creating instances. The Chef integration can also be selected in the Chef Server dropdown when creating a Chef Bootstrap type task.</p>
</div>
<div class="section" id="scope-chef-integration-to-a-cloud">
<h4>Scope Chef Integration to a Cloud<a class="headerlink" href="#scope-chef-integration-to-a-cloud" title="Permalink to this headline">¶</a></h4>
<ol class="arabic simple">
<li>Navigate to <cite>Infrastructure -&gt; Clouds</cite></li>
<li>Edit the target Cloud</li>
<li>Expand the <cite>Advanced Options</cite> section</li>
<li>In the <cite>Config Managment</cite> dropdown, select the Chef Integration.</li>
<li>Save Changes</li>
</ol>
</div>
<div class="section" id="scope-chef-integration-to-a-group">
<h4>Scope Chef Integration to a Group<a class="headerlink" href="#scope-chef-integration-to-a-group" title="Permalink to this headline">¶</a></h4>
<ol class="arabic simple">
<li>Navigate to <cite>Infrastructure -&gt; Groups</cite></li>
<li>Edit the target Group</li>
<li>Expand the <cite>Advanced Options</cite> section</li>
<li>In the <cite>Config Managment</cite> dropdown, select the Chef Integration.</li>
<li>Save Changes</li>
</ol>
</div>
<div class="section" id="id4">
<h4>Provisioning Options<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h4>
<p>When provisioning Instances into a Cloud or Group with a Chef Integration added, a <cite>Chef</cite> section will appear in the Config section of the provisioning wizard. By default, Chef is enabled, but can be disabled by expanding the <cite>Chef</cite> section and unchecking <cite>Enable Chef</cite>.</p>
<p>Chef Integration Provisioning options:</p>
<dl class="docutils">
<dt>Enable Chef</dt>
<dd>Select to bootstrap</dd>
<dt>Chef Environment</dt>
<dd>Populate Chef environment, or leave as <cite>_default</cite></dd>
<dt>Chef Node ID</dt>
<dd>Defaults to instance name, configurable.</dd>
<dt>Chef Runlist</dt>
<dd>Add runlist</dd>
<dt>CHEF ATTRIBUTES</dt>
<dd>Add Chef Attributes</dd>
<dt>CHEF TAGS</dt>
<dd>Add Chef tags</dd>
</dl>
</div>
</div>
<div class="section" id="consul">
<h3>Consul<a class="headerlink" href="#consul" title="Permalink to this headline">¶</a></h3>
<p>|morpheus| can integrate with Consul to automatically install the Consul Agent in Client Mode on Instances and configure communication with the Consul host.</p>
<div class="section" id="add-consul-integration">
<h4>Add Consul Integration<a class="headerlink" href="#add-consul-integration" title="Permalink to this headline">¶</a></h4>
<ol class="arabic">
<li><p class="first">Navigate to <cite>Administration -&gt; Integrations</cite> and select <cite>+ New Integration</cite></p>
</li>
<li><p class="first">Select Integration Type <cite>Consul Service Registry</cite></p>
</li>
<li><p class="first">Populate the following fields:</p>
<dl class="docutils">
<dt>Name</dt>
<dd><p class="first last">Name of the Consul Integration in |morpheus| </p>
</dd>
<dt>Enabled</dt>
<dd><p class="first last">Enabled by default</p>
</dd>
<dt>Consul Host</dt>
<dd><p class="first last">IP or Url of the Consul Host</p>
</dd>
<dt>Consul Http Port</dt>
<dd><p class="first last">Http port of the Consul Host</p>
</dd>
<dt>Username</dt>
<dd><p class="first last">Consul Host User</p>
</dd>
<dt>Password</dt>
<dd><p class="first last">Consul Host User Password</p>
</dd>
<dt>Datacenter ID</dt>
<dd><p class="first last">Validator key for the organization</p>
</dd>
</dl>
</li>
<li><p class="first">Save Changes</p>
</li>
</ol>
<p>The added Consul Integration is now available for use in |morpheus| , but must be scoped to a Cloud or Group to automatically install the Consul Agent while provisioning.</p>
</div>
<div class="section" id="scope-consul-integration-to-a-cloud">
<h4>Scope Consul Integration to a Cloud<a class="headerlink" href="#scope-consul-integration-to-a-cloud" title="Permalink to this headline">¶</a></h4>
<ol class="arabic simple">
<li>Navigate to <cite>Infrastructure -&gt; Clouds</cite></li>
<li>Edit the target Cloud</li>
<li>Expand the <cite>Advanced Options</cite> section</li>
<li>In the <cite>Service Registry</cite> dropdown, select the Consul Integration.</li>
<li>Save Changes</li>
</ol>
</div>
<div class="section" id="scope-consul-integration-to-a-group">
<h4>Scope Consul Integration to a Group<a class="headerlink" href="#scope-consul-integration-to-a-group" title="Permalink to this headline">¶</a></h4>
<ol class="arabic simple">
<li>Navigate to <cite>Infrastructure -&gt; Groups</cite></li>
<li>Edit the target Group</li>
<li>Expand the <cite>Advanced Options</cite> section</li>
<li>In the <cite>Service Registry</cite> dropdown, select the Consul Integration.</li>
<li>Save Changes</li>
</ol>
<p>And that’s it.  After your integration is set up, all containers deployed within the Group or Cloud integrated will provision with the Consul Agent in Client Mode, gossiping to your Consul Server!</p>
</div>
</div>
<div class="section" id="docker-registry">
<h3>Docker Registry<a class="headerlink" href="#docker-registry" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id5">
<h4>Overview<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h4>
<p>Without any additional configuration |morpheus| can provision images from Docker’s public hub at <a class="reference external" href="https://hub.docker.com/">https://hub.docker.com/</a> using their public api at <a class="reference external" href="https://index.docker.io/v1/">https://index.docker.io/v1/</a></p>
<p>However, many organizations maintain private Docker registries for security measures. Additional public and private Docker registries can be added to Morpheus.</p>
</div>
<div class="section" id="adding-a-docker-registry-integration">
<h4>Adding a Docker Registry Integration<a class="headerlink" href="#adding-a-docker-registry-integration" title="Permalink to this headline">¶</a></h4>
<ol class="arabic">
<li><p class="first">Navigate to <cite>Administration -&gt; Integrations</cite></p>
</li>
<li><p class="first">Click “New Integration”</p>
</li>
<li><p class="first">Select the <cite>Docker Repository</cite> Type</p>
</li>
<li><p class="first">Add the following:</p>
<dl class="docutils">
<dt>Name</dt>
<dd><p class="first last">Name for the Registry in |morpheus| </p>
</dd>
<dt>Repository url</dt>
<dd><p class="first last">Docker Registry url or IP address</p>
</dd>
<dt>Username</dt>
<dd><p class="first last">Username if private registry</p>
</dd>
<dt>Password</dt>
<dd><p class="first last">Password if private registry</p>
</dd>
</dl>
</li>
<li><p class="first">Save Changes</p>
</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You must either have signed certificates for your registry or configure your docker host(s) to accept insecure registries</p>
</div>
</div>
<div class="section" id="provisioning-an-instance-from-docker-registry">
<h4>Provisioning an Instance from Docker Registry<a class="headerlink" href="#provisioning-an-instance-from-docker-registry" title="Permalink to this headline">¶</a></h4>
<p>Docker images from the Integrated Registry can be provisioned using the generic <cite>Docker</cite> Instance Type, or by adding images to Node Types for custom Library Instance Types.</p>
<p>//add provisioning info and creating docker node types</p>
</div>
</div>
<div class="section" id="infoblox">
<h3>Infoblox<a class="headerlink" href="#infoblox" title="Permalink to this headline">¶</a></h3>
<p>|morpheus| can integrate with Infoblox for IP address assignment. To add a Infoblox integration into |morpheus| :</p>
<ol class="arabic simple">
<li>Add Infoblox as a Network Service integration</li>
<li>Add Infoblox IP Pool(s) to your network(s)</li>
<li>Configure your cloud(s) domain</li>
<li>When provisioning, select Network with Infoblox pool added</li>
</ol>
<div class="section" id="add-infoblox-as-a-network-service-integration">
<h4>Add Infoblox as a Network Service Integration<a class="headerlink" href="#add-infoblox-as-a-network-service-integration" title="Permalink to this headline">¶</a></h4>
<ol class="arabic">
<li><p class="first">Navigate to Infrastructure -&gt; Networks and select the Services tab</p>
<img alt="../_images/infoblox-adb0f.png" src="../_images/infoblox-adb0f.png" />
</li>
<li><p class="first">In the Services tab, select +ADD SERVICE, select Infoblox, and provide the following:</p>
<ul>
<li><p class="first">Add Pool Server</p>
<ul class="simple">
<li>Name</li>
<li>URL (wapi url + version) example <a class="reference external" href="https://x.x.x.x/wapi/v2.2.1">https://x.x.x.x/wapi/v2.2.1</a></li>
<li>Username</li>
<li>Password</li>
</ul>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">You can find your Infoblox wapi version in the wapi doc on your Infoblox server at <a class="reference external" href="https://x.x.x.x/wapidoc">https://x.x.x.x/wapidoc</a></p>
</div>
</li>
</ul>
<img alt="../_images/infoblox-b991b.png" src="../_images/infoblox-b991b.png" />
</li>
<li><p class="first">Save Changes and your Infoblox networks will be populated and available in the Network -&gt; IP Pools section of |morpheus| .</p>
</li>
</ol>
<p>Next we will need to add an Infoblox Network pool to a network in order to use the pool(s) during provisioning.</p>
<img alt="../_images/infoblox-2867a.png" src="../_images/infoblox-2867a.png" />
<p>Add Infoblox IP Pool(s) to your network(s)</p>
<ol class="arabic simple">
<li>Navigate to In Infrastructure - Networks, and in the Networks tab:</li>
<li>Find and edit the network you want to assign an Infoblox pool to.</li>
<li>For static IP assignment, Populate the Gateway, DNS, and CIDR info for the network, and deselect DHCP server.</li>
<li>In the NETWORK POOL drop down, select the Infoblox network to assign IPs from.</li>
<li>Save Changes</li>
</ol>
<img alt="../_images/infoblox-93281.png" src="../_images/infoblox-93281.png" />
</div>
<div class="section" id="configure-your-cloud-s-domain">
<h4>Configure your cloud(s) domain<a class="headerlink" href="#configure-your-cloud-s-domain" title="Permalink to this headline">¶</a></h4>
<p>The domain entered in you cloud(s) settings needs to match an Infoblox zone. To add a domain to your cloud(s)</p>
<ol class="arabic simple">
<li>Under Infrastructure - Clouds, edit your cloud settings</li>
<li>In the domain field, enter your domain</li>
</ol>
<ul class="simple">
<li>In v2.9.x and prior, the domain field is at the top of the Cloud Config modal.
.. image:: /images/administration/infoblox-ebde8.png</li>
<li>In v2.10, the domain field is under Advanced Settings in the Cloud Config modal.
.. image:: /images/administration/infoblox-976bd.png</li>
<li>In v2.10.1 and later, a Domains section has been added in the Infrastructure -&gt; Networks Section, and there is now a Domain dropdown to select a domain from the Networks section in the Cloud Config modal.</li>
</ul>
<dl class="docutils">
<dt>Infrastructure -&gt; Network -&gt; Domains</dt>
<dd><img alt="../_images/infoblox-af626.png" class="first last" src="../_images/infoblox-af626.png" />
</dd>
<dt>Cloud Configuration</dt>
<dd><img alt="../_images/infoblox-a9e41.png" class="first last" src="../_images/infoblox-a9e41.png" />
</dd>
</dl>
</div>
<div class="section" id="provisioning-with-infoblox-pool">
<h4>Provisioning with Infoblox Pool<a class="headerlink" href="#provisioning-with-infoblox-pool" title="Permalink to this headline">¶</a></h4>
<p>Once the Infoblox integration has been configured, while provisioning you can now select networks that have the Network Pools added, and the name of the Infoblox IP Pool will populate to the right of the selected network:</p>
<img alt="../_images/infoblox-40fdb.png" src="../_images/infoblox-40fdb.png" />
<p>The during provisioning, your instance IP will be assigned by Infoblox:</p>
<img alt="../_images/infoblox-fcc33.png" src="../_images/infoblox-fcc33.png" />
<p>[[jenkins]]</p>
</div>
</div>
<div class="section" id="jenkins">
<h3>Jenkins<a class="headerlink" href="#jenkins" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="aws-route53">
<h3>AWS Route53<a class="headerlink" href="#aws-route53" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id6">
<h4>Overview<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h4>
<p>|morpheus| integrates directly with Amazon Route 53 to automatically create DNS entries for Instances provisioned to a configured Cloud or Group. |morpheus| also syncs in Route 53 Domains for easy selection while provisioning, or setting as the default Domain on a Cloud or Network.</p>
</div>
<div class="section" id="add-route-53-integration">
<h4>Add Route 53 Integration<a class="headerlink" href="#add-route-53-integration" title="Permalink to this headline">¶</a></h4>
<p>Route 53 can be added in the <cite>Administration</cite> or <cite>Infrastructure</cite> sections:</p>
<ol class="arabic">
<li><p class="first">In <cite>Administration -&gt; Integrations</cite>, select <cite>+ New Integration</cite></p>
</li>
<li><p class="first">In <cite>Infrastructure -&gt; Networks -&gt; Services</cite>, select <cite>Add Service</cite></p>
</li>
<li><p class="first">Provide the following:</p>
<dl class="docutils">
<dt>TYPE</dt>
<dd><p class="first last">Route 53</p>
</dd>
<dt>NAME</dt>
<dd><p class="first last">Name for the Integration in |morpheus| </p>
</dd>
<dt>REGION</dt>
<dd><p class="first last">AWS Region for the Integration</p>
</dd>
<dt>ACCESS KEY</dt>
<dd><p class="first last">AWS User IAM Access Key</p>
</dd>
<dt>SECRET KEY</dt>
<dd><p class="first last">AWS User IAM Secret Key</p>
</dd>
</dl>
</li>
<li><p class="first">Once saved the Integration will be added and visible in both <cite>Administration -&gt; Integrations</cite> and <cite>Infrastructure -&gt; Networks -&gt; Services</cite></p>
</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">All fields can be edited after saving.</p>
</div>
</div>
<div class="section" id="domains">
<h4>Domains<a class="headerlink" href="#domains" title="Permalink to this headline">¶</a></h4>
<p>Once the integration is added, Route 53 Domains will sync and listed under <cite>Infrastructure -&gt; Networks -&gt; Domains</cite>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Default Domains can be set on Networks and Clouds, and can be selected when provisioning. Additional configuration options are available by editing a domain in <cite>Networks -&gt; Domains</cite></p>
</div>
</div>
<div class="section" id="configuring-route-53-with-clouds-and-groups">
<h4>Configuring Route 53 with Clouds and Groups<a class="headerlink" href="#configuring-route-53-with-clouds-and-groups" title="Permalink to this headline">¶</a></h4>
<p>DNS Integrations are available in the <cite>DNS Integration</cite> dropdown in Cloud and Group settings.</p>
<p>|morpheus| will register Instances with the DNS provider when provisioned into a Cloud or Group with a DNS Integration added.</p>
<div class="section" id="add-dns-integration-to-a-cloud">
<h5>Add DNS Integration to a Cloud<a class="headerlink" href="#add-dns-integration-to-a-cloud" title="Permalink to this headline">¶</a></h5>
<ol class="arabic simple">
<li>In <cite>Infrastructure → Clouds</cite> edit the target Cloud.</li>
<li>Expand the <cite>Advanced Options</cite> section.</li>
<li>In the <cite>DNS Integration</cite> dropdown, select an available DNS Integration.</li>
<li>Save Changes</li>
</ol>
</div>
<div class="section" id="add-dns-integration-to-a-group">
<h5>Add DNS Integration to a Group<a class="headerlink" href="#add-dns-integration-to-a-group" title="Permalink to this headline">¶</a></h5>
<ol class="arabic simple">
<li>In <cite>Infrastructure → Groups</cite> select the target Group.</li>
<li>Select the <cite>Edit</cite> button for the Group</li>
<li>Expand the <cite>Advanced Options</cite> section.</li>
<li>In the <cite>DNS Integration</cite> dropdown, select an available DNS Integration.</li>
<li>Save Changes</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Instances provisioned into a Cloud or Group with a DNS Integration added will be registered as instancename.domain with the DNS Provider during provisioning, and de-registered at teardown.</p>
</div>
</div>
</div>
</div>
<div class="section" id="salt">
<h3>Salt<a class="headerlink" href="#salt" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id7">
<h4>Overview<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h4>
<p>|morpheus| integrates with an existing Salt Master for seamless deployment of Salt States to Minions provisioned from |morpheus| .</p>
</div>
<div class="section" id="add-salt-integration">
<h4>Add Salt Integration<a class="headerlink" href="#add-salt-integration" title="Permalink to this headline">¶</a></h4>
<p>To get started browse to Admin -&gt; Integrations from within |morpheus| .</p>
<p>Once there simply add a New Integration</p>
<img alt="../_images/salt-af3ca.png" src="../_images/salt-af3ca.png" />
<p>And then scope the integration to your existing Salt Master by ip address.  Make sure that the username entered is one with proper escalation privileges for running Salt, and point the Working Directory at the directory on your Master where your States live.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">|morpheus| will allow you to run States from a git backend, but in v2.10 you will not see states from a git backend within |morpheus| </p>
</div>
<img alt="../_images/salt-a41c9.png" src="../_images/salt-a41c9.png" />
</div>
<div class="section" id="scope-salt-integration-to-group-or-cloud">
<h4>Scope Salt Integration to Group Or Cloud<a class="headerlink" href="#scope-salt-integration-to-group-or-cloud" title="Permalink to this headline">¶</a></h4>
<p>Configuration Management integrations like Saltstack apply to the Infrastructure Group abstraction in |morpheus| .  To ties yours in, browse to <code class="docutils literal"><span class="pre">Infrastructure</span> <span class="pre">-&gt;</span> <span class="pre">Groups</span></code> in |morpheus| and select the group that you would like to tie to your Salt Master.</p>
<p>From here select <cite>Edit</cite></p>
<img alt="../_images/salt-991dd.png" src="../_images/salt-991dd.png" />
<p>And from the options toggle Advanced Options and select your Saltstack integration in the Config Management dropdown.</p>
<img alt="../_images/salt-be548.png" src="../_images/salt-be548.png" />
<p>After a page refresh you should see your Saltstack tab in your group page</p>
<img alt="administration/salt-b5b6f.png" src="administration/salt-b5b6f.png" />
<p>Clicking on it will reveal a page that includes:</p>
<ol class="arabic simple">
<li>An interface to run Salt Master commands</li>
<li>Parsed Top File</li>
<li>Available States</li>
</ol>
<p>image::administration/salt-ccaca.png[]</p>
<p>The classic example of running</p>
<p><cite>salt ‘*’ test.ping</cite></p>
<p>will return empty unless there are existing Minions with accepted keys on the Master.  However, provisioning Minions via |morpheus| is extremely easy.</p>
</div>
<div class="section" id="provisioning-with-saltstack">
<h4>Provisioning with Saltstack<a class="headerlink" href="#provisioning-with-saltstack" title="Permalink to this headline">¶</a></h4>
<p>To do so, provision as usual and Instances within the Group tied to the Saltstack Integration will now show additional options on the Configure pane</p>
<img alt="../_images/salt-413c5.png" src="../_images/salt-413c5.png" />
<p>Minion ID defaults to the hostname, and a State can be applied directly at provision time.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Only States served from the Master’s Working Directory can be applied at provision, not States from a git backend</p>
</div>
<p>Once your instance is provisioned and key negotiation has completed you will be able to access it and run commands via the integrated Salt command center in your Group.</p>
<img alt="../_images/salt-f8e4e.png" src="../_images/salt-f8e4e.png" />
<p>If you did not apply a state at provision time now you will be able to run State commands through |morpheus| .</p>
<img alt="../_images/salt-71b7c.png" src="../_images/salt-71b7c.png" />
<p>In our example the Apache State from a git backend was applied successfully to our newly created vm.</p>
<img alt="../_images/salt-bf299.png" src="../_images/salt-bf299.png" />
</div>
</div>
</div>
<div class="section" id="provisioning-settings">
<h2>Provisioning Settings<a class="headerlink" href="#provisioning-settings" title="Permalink to this headline">¶</a></h2>
<p><cite>Administration -&gt; Provisioning</cite></p>
<dl class="docutils">
<dt>Settings</dt>
<dd>Configure Global Provisioning, Cloud-init and PXE Boot settings.</dd>
<dt>Environments</dt>
<dd>Create and manage Environment Tags</dd>
<dt>Licenses</dt>
<dd>Add License to apply to Windows Instances during Provisioning.</dd>
</dl>
<div class="section" id="settings">
<h3>Settings<a class="headerlink" href="#settings" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Allow Cloud Selection</dt>
<dd>Displays or hides Cloud Selection dropdown in Provisioning wizard.</dd>
<dt>Allow Host Selection</dt>
<dd>Displays or hides Host Selection dropdown in Provisioning wizard.</dd>
<dt>Show Pricing</dt>
<dd>Displays or hides Pricing in Provisioning wizard and Instance and Host detail pages.</dd>
<dt>Deployment Archive Store</dt>
<dd>Default Storage Provider for storing Deployment Archives.</dd>
</dl>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Storage Providers can be configured and managed in the <cite>Infrastructure -&gt; Storage</cite> section.</p>
</div>
</div>
<div class="section" id="cloud-init-settings">
<h3>Cloud-Init Settings<a class="headerlink" href="#cloud-init-settings" title="Permalink to this headline">¶</a></h3>
<p>|morpheus| can add Global users for Linux and Windows at provision time. Cloud-init/Cloudbase-Init or Vmware Tools installed on the provisioned Virtual Images is required.</p>
<dl class="docutils">
<dt>Linux</dt>
<dd><ul class="first last simple">
<li><em>Username</em>: Enter User to be added to Linux Instances during provisioning.</li>
<li><em>Password</em>: Enter password to be set for the above Linux user.</li>
<li><em>KeyPair</em>: Select KeyPair to be added for the above Linux user.</li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Either a Password, KeyPair, or both can be populated for the Linux User. KeyPairs can be added in the <cite>Infrastructure -&gt; Key Pairs</cite> section.</p>
</div>
<dl class="docutils">
<dt>Windows</dt>
<dd><ul class="first last simple">
<li><em>Administrator Password</em>: Enter password to be set for the Windows Administrator User during provisioning.</li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="pxe-boot-settings">
<h3>PXE Boot Settings<a class="headerlink" href="#pxe-boot-settings" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Default Root Password</dt>
<dd>Enter the default password to be set for Root during PXE Boots.</dd>
</dl>
</div>
</div>
<div class="section" id="monitoring-settings">
<h2>Monitoring Settings<a class="headerlink" href="#monitoring-settings" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id8">
<h3>Overview<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">Administration</span> <span class="pre">-&gt;</span> <span class="pre">Monitoring</span></code> section is for configuring |morpheus| Monitoring and Monitoring Integrations.</p>
</div>
<div class="section" id="morpheus-monitoring-settings">
<h3>|morpheus| Monitoring Settings<a class="headerlink" href="#morpheus-monitoring-settings" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Auto Create Checks</dt>
<dd>When enabled a Monitoring Check will automatically be create for Instances and Apps.</dd>
<dt>Availability Time Frame</dt>
<dd>The number of days availability should be calculated for. Changes will not take effect until your checks have passed their check interval.</dd>
<dt>Availability Precision</dt>
<dd>The number of decimal places availability should be displayed in. Can be anywhere between 0 and 5.</dd>
<dt>Default Check Interval</dt>
<dd>The default interval to use when creating new checks.</dd>
</dl>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Monitoring Checks can be manually configured if <cite>Auto Create Checks</cite> is disabled.</p>
</div>
<p>//add includes for app dynamics, servicenow and new relic adocs</p>
</div>
</div>
<div class="section" id="backup-settings">
<h2>Backup Settings<a class="headerlink" href="#backup-settings" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal"><span class="pre">Administration</span> <span class="pre">-&gt;</span> <span class="pre">Backups</span></code></p>
<div class="section" id="id9">
<h3>Overview<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<p>The Backups Settings page allows you enable or disableScheduled Backups,
and select a Default Backup Storage Provider Backups within |morpheus| 
can always be run manually. However the scheduled backups toggle must be
enabled to run jobs automatically. Configure the default storage
provider to select the target location for all new backups. (This does
not affect existing backups.)</p>
</div>
<div class="section" id="morpheus-backup-settings">
<h3>|morpheus| Backup Settings<a class="headerlink" href="#morpheus-backup-settings" title="Permalink to this headline">¶</a></h3>
<p>Options:</p>
<dl class="docutils">
<dt>Scheduled Backups</dt>
<dd>Enable automatic scheduled backups for provisioned instances.</dd>
<dt>Create Backups</dt>
<dd>When enabled, |morpheus| will automatically configure instances for manual or scheduled backups.</dd>
<dt>Copy Snapshots to Store</dt>
<dd>Copy VMware snapshots to selected Backup</dd>
</dl>
<p>Storage Provider.</p>
<dl class="docutils">
<dt>Backup Appliance</dt>
<dd>When enabled, a Backup will be created to backup the |morpheus| appliance database. Select the <code class="docutils literal"><span class="pre">Backup</span></code> text link to edit Appliance Backup Settings and view existing Appliance Backups.</dd>
<dt>Default Backup Provider</dt>
<dd>Enable/Disable |morpheus| as the default backup provider.</dd>
<dt>Default Backup Storage Provider</dt>
<dd>Storage Providers can be configured and managed in the Infrastructure Storage section.</dd>
<dt>Backup Retention Count</dt>
<dd>Default maximum number of successful backups to retain.</dd>
</dl>
<p>[[Logging]]</p>
</div>
</div>
<div class="section" id="logging-settings">
<h2>Logging Settings<a class="headerlink" href="#logging-settings" title="Permalink to this headline">¶</a></h2>
<p>|morpheus| contains a built-in logging solution that aggregates logs from hosts and services. Logs are displayed, searchable, and filterable in the Instance, App, Host and overall Logs sections. Logs can also be forwarded using Syslog Forward rules to any external solution that supports syslogs.</p>
<p>|morpheus| also has built in Integrations with 3rd Party solutions. When configured, the |morpheus| agent will forward logs to the integrated platforms automatically.</p>
<p>Logging Settings for the build-in Logging, Syslog forwards, and 3rd Party Integrations are configurable in the <cite>Administration -&gt; Logs</cite> section.</p>
<p>|morpheus| contains a built-in logging solution that aggregates logs from hosts and services. Logs are displayed, searchable, and filterable in the Instance, App, Host and overall Logs sections. Logs can also be forwarded using Syslog Forward rules to any external solution that supports syslogs.</p>
<p>//include::splunk.rst
//include::logrhythm.rst</p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../monitoring/monitoring.html" class="btn btn-neutral float-right" title="Monitoring" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../infrastructure/infrastructure.html" class="btn btn-neutral" title="Infrastructure" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, jw.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>